(this["webpackJsonpinvestment-tracker"]=this["webpackJsonpinvestment-tracker"]||[]).push([[0],{36:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),r=a(46),s=a.n(r),i=(a(36),a(6)),o=a(8),l=a(47),u=a(2),d=function(e){return Object(u.jsx)(l.a,{onClick:e.onClick,smooth:!0,className:"BaseLinks ".concat(e.className),scroll:function(e){return e.scrollIntoView({behavior:"smooth",block:"center"})},to:e.to,children:Object(u.jsx)("p",{children:e.title})})},j=a(15),h=function(e){return Object(u.jsx)(j.c,{onClick:e.onClick,className:"BaseLinks ".concat(e.className),to:e.to,children:Object(u.jsx)("p",{children:e.title})})},b=function(e){return Object(u.jsxs)("footer",{className:"Footer",children:[Object(u.jsxs)("div",{className:"footer-links",children:[Object(u.jsxs)("div",{className:"group-links",children:[Object(u.jsx)(h,{to:"/",title:"Home"}),Object(u.jsx)(d,{to:"/#how-it-works",title:"How It Works"}),Object(u.jsx)(h,{to:"/login",title:"Login"})]}),Object(u.jsxs)("div",{className:"group-links",children:[Object(u.jsx)(d,{to:"/#about",title:"About"}),Object(u.jsx)(d,{to:"/#contact",title:"Contact"})]})]}),Object(u.jsx)("div",{className:"copyright",children:Object(u.jsx)("p",{children:"Royal Port Investments \xa9 2021"})})]})},m=a(7),p=a.n(m),O=a(12),x=a(22),v=a(26),f=a(23),g=function(e){return Object(u.jsx)(j.c,{onClick:e.onClick,className:"BaseLinks LoginLink ".concat(e.className),to:"/".concat(e.link),children:Object(u.jsx)("p",{children:e.title})})},y=function(e){return Object(c.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){return document.querySelector("body").style.overflow="visible"}})),Object(u.jsxs)("div",{className:"Modal",children:[Object(u.jsx)("div",{onClick:e.close,className:e.nav?"":"backdrop"}),Object(u.jsxs)("div",{className:"".concat(e.nav?"Modal__nav-content":"Modal__content"," fade-in"),children:[Object(u.jsx)(v.a,{onClick:e.close,className:"close-icon",icon:f.e}),Object(u.jsx)("div",{className:"dynamic-content",children:e.children})]})]})},N=Object(o.f)((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1],o=function(){var t=Object(O.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.auth().signOut();case 2:localStorage.removeItem("authTokenRPM"),e.history.push("/"),window.location.reload();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){s(!r)},j=function(){r&&l()},b=Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(d,{onClick:j,className:"generic-btn",to:"/#how-it-works",title:"How It Works"}),Object(u.jsx)(d,{onClick:j,className:"generic-btn",to:"/#about",title:"About"}),Object(u.jsx)(d,{onClick:j,className:"generic-btn",to:"/#contact",title:"Contact"}),e.auth?Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(h,{onClick:j,className:"generic-btn",to:"/dashboard",title:"Dashboard"}),Object(u.jsx)("button",{onClick:o,className:"logout login-btn LoginLink",children:Object(u.jsx)("p",{children:"Logout"})})]}):Object(u.jsx)(g,{onClick:j,className:"login-btn",title:"Login",link:"login"})]});return Object(u.jsxs)("div",{className:"Nav",children:[r?Object(u.jsx)(y,{nav:!0,close:l,children:Object(u.jsx)("div",{className:"mobile-nav",children:b})}):null,Object(u.jsx)("div",{className:"nav-logo",children:Object(u.jsx)(h,{to:"/",title:"RPMetals"})}),Object(u.jsx)("div",{className:"nav-bars",children:Object(u.jsx)(v.a,{onClick:l,icon:f.a})}),Object(u.jsx)("div",{className:"nav-items",children:b})]})})),k=a(35),w={apiKey:"AIzaSyD2z8eyF8YHfE1d1qTy4_4PK1n0MDwYkjk",authDomain:"royal-port-investing.firebaseapp.com",projectId:"royal-port-investing",storageBucket:"royal-port-investing.appspot.com",messagingSenderId:"355076388827",appId:"1:355076388827:web:f37a48006ddf27a7bb99fe",measurementId:"G-01LTS8YVRY"},C=a(27),S=function(e){return Object(u.jsxs)("div",{className:"Auth",children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)("title",{children:[" ","".concat(e.path," | Royal Port Metals")]})}),Object(u.jsxs)("div",{className:"auth-header",children:[Object(u.jsx)("h1",{children:e.header}),Object(u.jsx)("h3",{children:e.secondaryHeader})]}),e.isError?Object(u.jsx)("div",{className:"auth-error",children:Object(u.jsx)("p",{children:e.errMessage})}):null,Object(u.jsx)("div",{className:"auth-content",children:e.children}),Object(u.jsxs)("div",{className:"auth-link",children:[Object(u.jsx)("p",{children:e.authLinkText}),Object(u.jsx)(j.c,{className:"link-text",to:"/".concat(e.authLink),children:e.authLink})]})]})};k.a.default.initializeApp(w);var P=Object(o.f)((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],h=Object(c.useState)(!1),b=Object(i.a)(h,2),m=b[0],p=b[1];return Object(u.jsx)("div",{className:"Login",children:Object(u.jsx)(S,{isError:m,errMessage:"There was a problem logging you in.",path:"Login",header:"Customer Login",secondaryHeader:"Login to check your portfolio.",authLinkText:"Don't have an account?",authLink:"signup",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),k.a.auth().signInWithEmailAndPassword(n,l).then((function(t){t.user.getIdToken().then((function(t){console.log(t),localStorage.setItem("authTokenRPM",t),console.log(localStorage.getItem("authTokenRPM")),e.setAuth(),e.history.push("/dashboard")})).catch((function(e){return console.log(e)})),localStorage.setItem("userEmailRPM",t.user.email)})).catch((function(e){p(!0),t.target.reset()}))},children:[Object(u.jsxs)("div",{className:"inputs",children:[Object(u.jsx)("input",{onChange:function(e){return r(e.target.value)},placeholder:"Email",type:"Email",name:"email",required:!0}),Object(u.jsx)("input",{onChange:function(e){return d(e.target.value)},placeholder:"Password",type:"password",name:"password",required:!0})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Login"})}),Object(u.jsx)("div",{className:"reset-item",children:Object(u.jsxs)("p",{className:"reset",children:["Can't remember your password?",Object(u.jsx)("span",{className:"reset-btn",children:Object(u.jsx)(j.c,{className:"reset-btn",to:"/reset",children:"reset"})})]})})]})})})})),D=a(28),E=a(52),L=a(53),M=a(54),I=a.n(M),T=function(){function e(){Object(E.a)(this,e)}return Object(L.a)(e,null,[{key:"getUserData",value:function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("authTokenRPM"),a=localStorage.getItem("userEmailRPM"),e.abrupt("return",[a,t]);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"callServer",value:function(){var e=Object(O.a)(p.a.mark((function e(t,a){var c,n,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]?s[2]:null,n=s.length>3&&void 0!==s[3]?s[3]:null,r=s.length>4&&void 0!==s[4]?s[4]:null,e.prev=3,e.next=6,I()({method:a,url:t,data:c,headers:{Authorization:"Bearer ".concat(n),email:r}});case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createCommodityItem",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var a,c,n,r,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData();case 3:return a=e.sent,c=Object(i.a)(a,2),n=c[0],r=c[1],s=Object(D.a)(Object(D.a)({},t),{},{email:n}),e.next=10,this.callServer("".concat(this.authPath,"/addCommodity"),"patch",s,r);case 10:return o=e.sent,e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCommodityTab",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var a,c,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData();case 3:return a=e.sent,c=Object(i.a)(a,2),n=c[0],r=c[1],e.next=9,this.callServer("".concat(this.authPath,"/deleteCommodity"),"patch",t,r,n);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editCommodityTab",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var a,c,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData();case 3:return a=e.sent,c=Object(i.a)(a,2),n=c[0],r=c[1],e.next=9,this.callServer("".concat(this.authPath,"/editCommodity"),"patch",t,r,n);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getDashboardData",value:function(){var e=Object(O.a)(p.a.mark((function e(){var t,a,c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData();case 3:return t=e.sent,a=Object(i.a)(t,2),c=a[0],n=a[1],e.next=9,this.callServer("".concat(this.authPath,"/dashboardData"),"get",null,n,c);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMetalPrices",value:function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callServer("".concat(this.authPath,"/priceData"),"get");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchString",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var a,c,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData();case 2:return a=e.sent,c=Object(i.a)(a,2),n=c[0],r=c[1],e.next=8,this.callServer("".concat(this.authPath,"/queryCommodities/").concat(t),"get",null,r,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callServer("/api/v1/contact/message","post",t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.callServer("".concat(this.authPath,"/create"),"post",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();T.apiDashboardPath="/api/v1/dashboard",T.authPath="/api/v1/users";var A=T,R=Object(o.f)((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(c.useState)(""),h=Object(i.a)(j,2),b=h[0],m=h[1],v=Object(c.useState)(""),f=Object(i.a)(v,2),g=f[0],y=f[1],N=Object(c.useState)(""),k=Object(i.a)(N,2),w=k[0],C=k[1],P=Object(c.useState)(!1),D=Object(i.a)(P,2),E=D[0],L=D[1],M=function(e){var t=e.target.name,a=e.target.value;"firstName"===t?r(a):"lastName"===t?d(a):"email"===t?m(a):"password"===t?y(a):"confirmPassword"===t&&C(a)},I=function(){var t=Object(O.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,A.signup({firstname:n,lastname:l,email:b,pass:g,cofPass:w});case 4:return t.next=6,x.a.auth().signInWithEmailAndPassword(b,g);case 6:return t.t0=localStorage,t.next=9,x.a.auth().currentUser.getIdToken();case 9:return t.t1=t.sent,t.t0.setItem.call(t.t0,"authTokenRPM",t.t1),t.t2=localStorage,t.next=14,x.a.auth().currentUser.email;case 14:t.t3=t.sent,t.t2.setItem.call(t.t2,"userEmailRPM",t.t3),e.setAuth(),e.history.push("/dashboard"),t.next=24;break;case 20:t.prev=20,t.t4=t.catch(1),L(!0),a.target.reset();case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"Signup",children:Object(u.jsx)(S,{isError:E,errMessage:"There was a problem signing you up.",path:"Sign up",header:"Customer Signup",secondaryHeader:"Sign up to create a portfolio.",authLinkText:"Already have an account?",authLink:"login",children:Object(u.jsxs)("form",{onSubmit:I,children:[Object(u.jsxs)("div",{className:"name-inputs",children:[Object(u.jsx)("input",{onChange:M,placeholder:"First Name",type:"text",name:"firstName",required:!0}),Object(u.jsx)("input",{onChange:M,placeholder:"Last Name",type:"text",name:"lastName",required:!0})]}),Object(u.jsxs)("div",{className:"email-input",children:[Object(u.jsx)("input",{onChange:M,placeholder:"Email",type:"Email",name:"email",required:!0}),Object(u.jsx)("input",{onChange:M,placeholder:"Password",type:"password",name:"password",required:!0})]}),Object(u.jsx)("div",{className:"inputs",children:Object(u.jsx)("input",{onChange:M,placeholder:"Confirm Password",type:"password",name:"confirmPassword",required:!0})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Sign up"})})]})})})})),q=function(e){return Object(u.jsxs)("div",{className:"SectionElement",style:e.bkStyle,id:e.hashPath,children:[Object(u.jsxs)("div",{className:"header-content",children:[Object(u.jsx)("h1",{children:e.header}),Object(u.jsx)("div",{})]}),Object(u.jsx)("div",{className:"content",children:e.children})]})},F=function(e){return Object(u.jsxs)("div",{className:"Instruction",children:[Object(u.jsx)("div",{className:"instruction-img",children:Object(u.jsx)("div",{children:Object(u.jsx)(v.a,{icon:e.icon})})}),Object(u.jsx)("div",{className:"text-content",children:Object(u.jsx)("h3",{children:e.step})})]})},H=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(c.useState)(""),h=Object(i.a)(j,2),b=h[0],m=h[1],x=Object(c.useState)(""),v=Object(i.a)(x,2),y=v[0],N=v[1],k=Object(c.useState)(!1),w=Object(i.a)(k,2),S=w[0],P=w[1],D=Object(c.useState)(!1),E=Object(i.a)(D,2),L=E[0],M=E[1],I=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,A.sendMessage({firstName:n,lastName:l,email:b,message:y});case 4:t.target.reset(),P&&P(!1),M(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),M(!1),P(!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"HomePage",children:[Object(u.jsx)(C.a,{children:Object(u.jsx)("title",{children:"Home | Royal Port Metals"})}),Object(u.jsxs)("div",{className:"home-intro",children:[Object(u.jsxs)("div",{className:"main-home-copy",children:[Object(u.jsx)("h1",{children:"Royal Port Metals"}),Object(u.jsx)("h2",{children:"Keep track of your commodity investments."})]}),Object(u.jsx)(g,{className:"get-started",title:"Get Started",link:"login"})]}),Object(u.jsx)(q,{bkStyle:{backgroundColor:"#222831"},header:"How It Works",hashPath:"how-it-works",children:Object(u.jsxs)("div",{className:"how-it-works-items",children:[Object(u.jsx)(F,{icon:f.c,step:"Buy your commodity of choice."}),Object(u.jsx)(F,{icon:f.d,step:"Add your commodity to your profile."}),Object(u.jsx)(F,{icon:f.b,step:"Watch as your commodity changes over time."})]})}),Object(u.jsx)(q,{bkStyle:{backgroundColor:"#30475e"},header:"About RPInvest",hashPath:"about",children:Object(u.jsx)("p",{className:"about-text",children:"Created by an investor, web developer, and full-time college student with a desire to scrap cumbersome spread sheets, Jud, in the middle of an extrodinarily busy time in his life, chose to embark on a mission to not only solve his need of a simple, easy to use application, but to most importantly bring together a large community of like minded investors in search of a simplistic way to guard their investments and future wealth."})}),Object(u.jsx)(q,{bkStyle:{backgroundColor:"#222831"},header:"Contact Us",hashPath:"contact",children:Object(u.jsxs)("form",{onSubmit:I,children:[Object(u.jsxs)("div",{className:"err-sent",children:[S?Object(u.jsx)("p",{className:"error message-alert",children:"Could not send message."}):null,L?Object(u.jsx)("p",{className:"sent message-alert",children:"Message sent!"}):null]}),Object(u.jsxs)("div",{className:"name-inputs",children:[Object(u.jsx)("input",{onChange:function(e){return r(e.target.value)},placeholder:"First Name",type:"text",name:"firstName",required:!0}),Object(u.jsx)("input",{onChange:function(e){return d(e.target.value)},placeholder:"Last Name",type:"text",name:"lastName",required:!0})]}),Object(u.jsx)("div",{className:"email-input",children:Object(u.jsx)("input",{onChange:function(e){return m(e.target.value)},placeholder:"Email",type:"email",name:"email",required:!0})}),Object(u.jsx)("div",{className:"message-input",children:Object(u.jsx)("textarea",{onChange:function(e){return N(e.target.value)},placeholder:"Your message",name:"userMessage",required:!0})}),Object(u.jsx)("div",{className:"form-btn",children:Object(u.jsx)("button",{children:"Send Message"})})]})})]})},B=function(e){return Object(u.jsxs)("div",{className:"PriceItem",children:[Object(u.jsx)("p",{className:"name",children:e.title}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{className:"price",children:["$",e.price]}),Object(u.jsx)("p",{className:"change",children:e.change})]})]})},G=function(e){return Object(u.jsxs)("div",{className:"Totals",children:[Object(u.jsxs)("h2",{children:["Total ",e.title," Investments"]}),Object(u.jsxs)("div",{className:"amount",children:[Object(u.jsxs)("h1",{children:["$",e.amount]}),Object(u.jsx)("p",{children:e.change})]})]})},U=function(e){return Object(u.jsxs)("div",{id:e.id,className:"AddedCommodity",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h1",{className:"name",children:e.name}),Object(u.jsx)("div",{children:Object(u.jsxs)("h1",{className:"price",children:["$",e.price]})}),Object(u.jsx)("h3",{className:"date",children:e.date})]}),Object(u.jsxs)("div",{className:"edit-delete",children:[Object(u.jsx)("button",{onClick:function(){return e.edit(e.id,e.type)},className:"edit",children:"Edit"}),Object(u.jsx)("button",{onClick:function(){return e.delete(e.id,e.type)},className:"delete",children:"Delete"})]})]})},W=function(e){return Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-content--info",children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("h1",{children:"Add a commodity"}),Object(u.jsx)("p",{children:"When you add a commodity to your profile, you will be able to see your metals 24 hours a day, 7 days a week."})]})}),Object(u.jsxs)("form",{onSubmit:e.submit,children:[e.isError?Object(u.jsx)("p",{className:"modal-error",children:e.err}):null,Object(u.jsxs)("div",{className:"modal-content--inputs",children:[Object(u.jsx)("input",{onChange:e.title,placeholder:"Commodity Name",type:"text"}),Object(u.jsx)("input",{onChange:e.price,placeholder:"Ounces",type:"number",min:"0"})]}),Object(u.jsx)("div",{className:"modal-content--select",children:Object(u.jsxs)("select",{onChange:e.type,defaultValue:"Commodity type",children:[Object(u.jsx)("option",{value:"Commodity type",disabled:!0,children:"Commodity type"}),Object(u.jsx)("option",{value:"gold",children:"Gold"}),Object(u.jsx)("option",{value:"silver",children:"Silver"}),Object(u.jsx)("option",{value:"platinum",children:"Platinum"}),Object(u.jsx)("option",{value:"palladium",children:"Palladium"})]})}),Object(u.jsx)("div",{className:"modal-content--btn",children:Object(u.jsx)("button",{children:"Add Commodity"})})]})]})},_=function(e){return Object(u.jsxs)("div",{className:"edit-modal",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:"Edit your commodity tab."}),Object(u.jsx)("p",{children:"Did you liquidate, purchase, or make a mistake while creating your commodity tab? Fill out the form to edit your commodity tab."})]}),Object(u.jsxs)("form",{onSubmit:e.submit,children:[e.isError?Object(u.jsx)("p",{className:"modal-error",children:e.err}):null,Object(u.jsxs)("div",{className:"inputs",children:[Object(u.jsx)("input",{type:"text",onChange:e.title,placeholder:"Change title"}),Object(u.jsx)("input",{type:"number",onChange:e.price,placeholder:"Change amount"})]}),Object(u.jsx)("button",{children:"Submit changes"})]})]})},z=function(e){return Object(u.jsxs)("div",{className:"edit-modal",style:{display:"flex",flexDirection:"column"},children:[Object(u.jsxs)("div",{className:"title delete",children:[Object(u.jsx)("h1",{children:"Delete your commodity tab."}),Object(u.jsx)("p",{children:"Once you delete a commodity, you will not be able to access it again, are you sure you want to delete it?"})]}),Object(u.jsxs)("form",{onSubmit:e.submit,children:[e.isError?Object(u.jsx)("p",{className:"modal-error",children:e.err}):null,Object(u.jsx)("button",{children:"Delete tab"})]})]})},Y=Object(o.f)((function(e){var t=Object(c.useState)({}),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)({}),l=Object(i.a)(o,2),d=l[0],h=l[1],b=Object(c.useState)([]),m=Object(i.a)(b,2),x=m[0],v=m[1],f=Object(c.useState)(""),g=Object(i.a)(f,2),N=g[0],k=g[1],w=Object(c.useState)({}),S=Object(i.a)(w,2),P=S[0],E=S[1],L=Object(c.useState)(!1),M=Object(i.a)(L,2),I=M[0],T=M[1],R=Object(c.useState)(!1),q=Object(i.a)(R,2),F=q[0],H=q[1],Y=Object(c.useState)(!1),$=Object(i.a)(Y,2),J=$[0],K=$[1],V=Object(c.useState)(!1),Q=Object(i.a)(V,2),X=Q[0],Z=Q[1],ee=Object(c.useState)(!1),te=Object(i.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(!1),re=Object(i.a)(ne,2),se=re[0],ie=re[1],oe=Object(c.useState)(""),le=Object(i.a)(oe,2),ue=le[0],de=le[1],je=Object(c.useState)(""),he=Object(i.a)(je,2),be=he[0],me=he[1],pe=Object(c.useState)(0),Oe=Object(i.a)(pe,2),xe=Oe[0],ve=Oe[1],fe=Object(c.useState)(""),ge=Object(i.a)(fe,2),ye=ge[0],Ne=ge[1];Object(c.useEffect)((function(){(function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.getDashboardData();case 3:return t=e.sent,e.next=6,A.getMetalPrices();case 6:a=e.sent,h(t.data.userData),v(t.data.userData.commodities),s(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Could not get data from server, refresh the page or come back later.");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[h,s,v,J]),Object(c.useEffect)((function(){var e=setTimeout(Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===N){e.next=6;break}return e.next=4,A.searchString(N);case 4:t=e.sent,v(t.data.userData);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Could not get data from search.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),500);return function(){return clearTimeout(e)}}),[N,v]);var ke=Object(c.useCallback)((function(e,t){return~~(Math.pow(10,t)*e)/Math.pow(10,t)}),[]),we=Object(c.useCallback)((function(e,t){return ke(e*t,2)}),[ke]),Ce=Object(c.useCallback)((function(){if(d||r){var e={gold:0,silver:0,platinum:0,palladium:0},t=0;Object.keys(e).forEach((function(a){var c=we(d[a],r[a]);t+=c,e[a]=c})),E(Object(D.a)(Object(D.a)({},e),{},{total:t.toFixed(2)}))}}),[r,d,we]);Object(c.useEffect)((function(){Ce()}),[Ce]);var Se,Pe=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{A.createCommodityItem({title:be,amount:xe,type:ye}),T(!I),Z(!1),K(!J)}catch(a){H(!0)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,A.editCommodityTab({title:be,amount:xe,id:ue,type:ye});case 4:T(!I),ce(!1),K(!J),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),H(!0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,A.deleteCommodityTab({id:ue,type:ye});case 4:T(!I),ie(!1),K(!J),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),H(!0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){Z(!0),T(!I)},Me=function(e,t){ce(!0),de(e),Ne(t),T(!I)},Ie=function(e,t){ie(!0),de(e),Ne(t),T(!I)};return X?Se=Object(u.jsx)(W,{err:"Could not add commodity.",isError:F,submit:Pe,price:function(e){return ve(e.target.value)},type:function(e){return Ne(e.target.value)},title:function(e){return me(e.target.value)}}):ae?Se=Object(u.jsx)(_,{isError:F,err:"Could not edit your Commodity item.",title:function(e){return me(e.target.value)},price:function(e){return ve(e.target.value)},submit:De}):se&&(Se=Object(u.jsx)(z,{isError:F,err:"There was a problem deleting your commodity.",submit:Ee})),Object(u.jsxs)(n.a.Fragment,{children:[I?Object(u.jsx)(y,{close:function(){T(!I),ce(!1),Z(!1),ie(!1),H(!1)},children:Se}):null,Object(u.jsxs)("div",{className:"DashBoard",children:[Object(u.jsx)(C.a,{children:Object(u.jsx)("title",{children:"Dashboard | Royal Port Metals"})}),Object(u.jsxs)("div",{className:"search-add-tab",children:[Object(u.jsxs)("div",{className:"mobile-search-add-tab",children:[Object(u.jsx)("div",{className:"search",children:Object(u.jsx)("input",{onChange:function(e){return k(e.target.value)},placeholder:"Search",type:"search",name:"search"})}),Object(u.jsx)("div",{className:"add-item",children:Object(u.jsx)("button",{onClick:Le,className:"add-item-btn",children:"Add Comodity"})})]}),Object(u.jsx)("div",{className:"desk-search-add-tab"})]}),Object(u.jsxs)("div",{className:"price-tab",children:[Object(u.jsxs)("div",{className:"mobile-price",children:[Object(u.jsx)("div",{className:"price-btn",children:Object(u.jsx)(j.c,{className:"price-link",to:"/prices",children:"Prices"})}),Object(u.jsx)("div",{className:"your-total",children:d?Object(u.jsxs)("p",{children:["$",P.total]}):Object(u.jsx)("p",{children:"$0"})})]}),Object(u.jsx)("div",{className:"desk-price",children:r?Object(u.jsxs)("div",{className:"prices",children:[Object(u.jsx)(B,{title:"Gold",price:r.gold,change:r.goldChange}),Object(u.jsx)(B,{title:"Silver",price:r.silver,change:r.silverChange}),Object(u.jsx)(B,{title:"Platnium",price:r.platinum,change:r.platinumChange}),Object(u.jsx)(B,{title:"Copper",price:r.palladium,change:r.palladiumChange})]}):Object(u.jsx)("div",{className:"no-commodity-found",children:Object(u.jsx)("h1",{children:"Could not find metals prices"})})})]}),Object(u.jsx)("div",{className:"chart-content ",children:x?x.length>0?x.map((function(e){return Object(u.jsx)(U,{id:e._id,type:e.type,name:e.title,price:we(e.amount,r[e.type]),date:e.date,change:e.change,edit:Me,delete:Ie},e._id)})):Object(u.jsxs)("div",{className:"no-commodity-found",children:[Object(u.jsx)("h1",{children:"No commodities yet?"}),Object(u.jsx)("p",{children:"Add commodities to get started tracking!"})]}):null}),Object(u.jsxs)("div",{className:"search-add",children:[Object(u.jsx)("div",{className:"total-investments",children:d?Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(G,{amount:P.total}),Object(u.jsx)(G,{title:"Gold",amount:P.gold}),Object(u.jsx)(G,{title:"Silver",amount:P.silver}),Object(u.jsx)(G,{title:"Platinum",amount:P.platinum}),Object(u.jsx)(G,{title:"Palladium",amount:P.palladium})]}):null}),Object(u.jsx)("div",{className:"search",children:Object(u.jsx)("input",{onChange:function(e){return k(e.target.value)},placeholder:"Search",type:"search",name:"search"})}),Object(u.jsx)("div",{className:"add-item",children:Object(u.jsx)("button",{onClick:Le,className:"add-item-btn",children:"Add a Comodity"})})]})]})]})})),$=function(e){return Object(u.jsx)("div",{className:"AboutMetals",children:Object(u.jsx)(q,{header:"About Gold",children:Object(u.jsx)("p",{children:"Gold is one of the worlds oldest, most known of valuable metals. Gold has been used from every nation from the United States of America to the Aztec Empire. Gold is truly one of the most highly sought after commodity in world history."})})})},J=function(e){return Object(u.jsxs)("div",{className:"PageNotFound",children:[Object(u.jsx)("h1",{children:"The page you are looking for does not exist"}),Object(u.jsx)(j.c,{className:"err-link",to:"/",children:Object(u.jsx)("h2",{children:"Back to civilization"})})]})},K=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],d=o[1],j=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.a.auth().sendPasswordResetEmail(n);case 4:d(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"ResetPassword",children:l?Object(u.jsx)(S,{path:"Login",header:"Email Sent!",secondaryHeader:"Password reset email sent.",authLinkText:"Need to login?",authLink:"login"}):Object(u.jsx)(S,{path:"Login",header:"Password Reset",secondaryHeader:"Reset your password below.",authLink:"login",authLinkText:"Need to login?",children:Object(u.jsxs)("form",{onSubmit:j,children:[Object(u.jsx)("input",{placeholder:"Email",type:"email",required:!0,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Reset Password"})})]})})})},V=function(e){var t=Object(c.useState)({}),a=Object(i.a)(t,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getMetalPrices();case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(u.jsx)("div",{className:"Prices",children:r?Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(B,{title:"Gold",price:r.gold,change:r.goldChange}),Object(u.jsx)(B,{title:"Silver",price:r.silver,change:r.silverChange}),Object(u.jsx)(B,{title:"Platnium",price:r.platinum,change:r.platinumChange}),Object(u.jsx)(B,{title:"Copper",price:r.palladium,change:r.palladiumChange})]}):Object(u.jsxs)("div",{className:"error",children:[Object(u.jsx)("h1",{children:"Could not get price data."}),Object(u.jsx)("p",{children:"Reload the page or come back later to see metal prices."})]})})};var Q=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){localStorage.getItem("authTokenRPM")&&n(!0)}),[n]);var r=function(){n(!a)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"main-wrapper",children:[Object(u.jsx)(N,{auth:a}),Object(u.jsx)("div",{className:"pages",children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/login",children:Object(u.jsx)(P,{setAuth:r})}),Object(u.jsx)(o.a,{path:"/signup",children:Object(u.jsx)(R,{setAuth:r})}),Object(u.jsx)(o.a,{path:"/reset",component:K}),Object(u.jsx)(o.a,{path:"/about",component:H}),a?Object(u.jsx)(o.a,{path:"/dashboard",component:Y}):Object(u.jsx)(o.a,{exact:!0,path:"/",component:H}),Object(u.jsx)(o.a,{path:"/gold",component:$}),Object(u.jsx)(o.a,{path:"/prices",component:V}),Object(u.jsx)(o.a,{exact:!0,path:"/",component:H}),Object(u.jsx)(o.a,{component:J})]})})]}),Object(u.jsx)(b,{})]})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(j.a,{basename:"/",children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(Q,{})})}),document.getElementById("root")),X()}},[[87,1,2]]]);
//# sourceMappingURL=main.52faca3c.chunk.js.map